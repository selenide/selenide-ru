---
layout: post
title: "Вышла Selenide 6.3.0"
description: ""
category:
header-text: "Начало прекрасной дружбы"
tags: []
---
{% include JB/setup %}

<br>
# Здравствуйте, друзья!

<br>
Мы зарелизили [Selenide 6.3.0](https://github.com/selenide/selenide/milestone/143?closed=1).

Приготовьте бутеры и погнали!

<br>

# Добавили метод `switchTo().frame(timeout)` с кастомным таймаутом

В селениде есть метод `switchTo().frame(name)` для переключения между фреймами. Как всегда, со встроенной ожидалкой и другими плюшками. 
Но что, если фрейм грузится дольше, чем таймаут по умолчанию (4 секунды)?  

Теперь вы можете передать дополнительный параметр `Duration` - таймаут для переключения во фрейм:

```java
  switchTo().frame("ifrm");                          // по умолчанию ждёт до 4 секунд
  switchTo().frame("ifrm", Duration.ofSeconds(6));   // а вот теперь до 6 секунд
```

Спасибо [@donesvad](https://github.com/donesvad) за [PR 1722](https://github.com/selenide/selenide/pull/1722).

<br>

# Добавили селекторы `byTagAndText` и `withTagAndText`

До сих пор в селениде были методы для поиска элементов по тексту:
```java
  import static com.codeborne.selenide.Selectors.*;

  $(byText("Hello world")).shouldHave(text("Hello World"));
  $(withText("Hello")).shouldHave(text("Hello World"));
```

Иногда этого мало: когда элементов с таким текстом несколько, и хочется из них выбрать только один - с нужным тэгом.  

Теперь и для этого есть методы:

```java
  import static com.codeborne.selenide.Selectors.*;

  $(byTagAndText("h1", "Hello world")).shouldHave(text("Hello World"));
  $(withTagAndText("h1", "Hello")).shouldHave(text("Hello World"));
```

Спасибо [Maurizio Lattuada](https://github.com/maurizio-lattuada ) за  [issue 1650](https://github.com/selenide/selenide/issues/1650) и [PR 1651](https://github.com/selenide/selenide/pull/1651).

<br>

# Исправили ошибку в `byTextCaseInsensitive`

Теперь этот селектор игнорирует множественные пробелы и переводы строк в начале и конце текста (как и каноничный `byText`).

См. [issue 1723](https://github.com/selenide/selenide/issues/1723) и [PR 1724](https://github.com/selenide/selenide/pull/1724).

<br>

# Добавили записи "webdriver create" в "webdriver close" в отчёт

Если вы используете селенидовский `TextReport` или плагин `AllureSelenide`, вы привыкли в конце каждого теста 
видеть отчёт, в котором видны все действия: открыли страничку - нашли элемент - кликнули и т.д. 

Теперь там добавилась запись, когда был запущен сам вебдрайвер. И когда закрыт. Иногда эта информация может быть 
полезна при отладке различных проблем с тестами. 

Спасибо [Petro Ovcharenko](https://github.com/petroOv-PDFfiller) за [PR 1715](https://github.com/selenide/selenide/pull/1715).

<br>

# Исправили переопределение селениумовского таймаута

В [Selenide 5.22.0](/2021/06/08/selenide-5.22.0/) мы сделали хак, который менял дефалтовый селениумовский таймаут для общения с вебдрайвером с дичайших 3 часов до 2 минут.  

Однако выяснилось, что при обновлении на Selenium 4 этот хак сломался (как и положено всем хакам). 
Теперь мы его реанимировали. 

Напоминаю, теперь при общении между тестами и вебдрайвером таймаут такой:
* таймаут на соединение - 10 секунд
* таймаут на чтение - 1.5 минуты

См. [commit cf02da5](https://github.com/selenide/selenide/commit/cf02da5).

<br>

# Убрали двойное заворачивание ошибок "Element not found" друг в друга

См. [issue 1705](https://github.com/selenide/selenide/issues/1705) и [PR 1706](https://github.com/selenide/selenide/pull/1706).

<br>

# Добавили поддержку типа аутентификации `BEARER`

В селениде давно уже есть способ аутентификации с разными типами:
```java
open("/basic-auth/hello", BASIC, "scott", "tiger");
```

но точно правильно работал только тип `BASIC`. Остальные особо никто не проверял. :)

Оказалось, что тип `BEARER` не работал. Теперь вот работает (а остальные по-прежнему никто не проверял :)). 

Использовать так:

```java
    open("/bearer-token-auth/hello", BEARER, new BearerTokenCredentials("token-123"));
```

См. [PR 1714](https://github.com/selenide/selenide/pull/1714).

<br>

# Теперь пустые настройки типа `selenide.remote` считаются незаданными

Это должно чутка упростить жизнь девопсам.  
При настройках всяких там джобов и пайплайнов на CI сервере, часто приходится использовать переменные для задания настроек селенида:

```
-Dselenide.remote=${env.GRID_URL}
``` 

И если в какой-нибудь среде переменной `GRID_URL` не окажется, то селенид грохнется, т.к. попытается использовать пустой урл для `selenide.remote`.  

Так было раньше. А теперь селенид будет считать, что `selenide.remote` просто не задан, и продолжить работать как обычно. 

См. [Alexei Vinogradov](https://github.com/vinogradoff) за [issue 1656](https://github.com/selenide/selenide/issues/1656) и [Boris Osipov](https://github.com/BorisOsipov) за [PR 1663](https://github.com/selenide/selenide/pull/1663).

<br>


# Обновились на Selenium 4.1.2

После обновления на Selenium 4.1.2 у многих слетела версия Guava. Селенид явно определяет нужную версию Guava, так что
вас эта проблема затронуть не должна. Но если что, убедитесь, что в вашем проекте никакой там градловский или мавеновский плагин не переопределяет версию Guava. Старый добрый [пост про зависимости](/2020/11/17/why-proxy-does-not-work-in-selenoid/) в помощь.

См. [ченджлог Selenium](https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG) и [PR 1719](https://github.com/selenide/selenide/pull/1719).

<br>

# UPD Selenide 6.3.1
Небольшое обновление [Selenide 6.3.1](https://github.com/selenide/selenide/milestone/146?closed=1):
* [#1731](https://github.com/selenide/selenide/issues/1731) вернули возможность использовать софт ассерты в TestNG в методах `@Before*` и `@After*` (ранее мы их случайно запретили в Selenide 6.2.0) - см. [PR #1732](https://github.com/selenide/selenide/pull/1732)
* [#1729](https://github.com/selenide/selenide/pull/1729) Обновились с Netty 4.1.73.Final на 4.1.74.Final


<br>

# UPD Selenide 6.3.2
Ещё обновление [Selenide 6.3.2](https://github.com/selenide/selenide/milestone/147?closed=1):
* [#1733](https://github.com/selenide/selenide/pull/1733) Запилили костыль для баги селениума [10345](https://github.com/SeleniumHQ/selenium/issues/10345), из-за которой метод `FirefoxDriver.close()` валится после обновления на Firefox 97.
* [#1736](https://github.com/selenide/selenide/pull/1736) Обновились с BrowserUpProxy 2.1.3 на 2.1.4
* [#1611](https://github.com/selenide/selenide/pull/1611) Обновили версию Java с 8 до 17. 

А вот тут давайте остановимся поподробнее. Теперь проект Selenide собирается на Java 17, но бинарники `selenide-*.jar` 
по-прежнему собираются для Java 8. Поэтому 
* разработчики селенида могут использовать все последние фичи языка Java, а
* пользователи селенида могут по-прежнему запускать свои тесты на Java 8 (хоть мы и советуем обновить джавушку, конечно). 

А стало это возможным благодаря инструменту [Jabel](https://github.com/bsideup/jabel) и лично [
Sergei Egorov](https://github.com/bsideup), придумавшему этот изящный хак 
(а ещё причастному к [TestContainers](https://github.com/testcontainers/testcontainers-java) и [AtomicJar](https://www.atomicjar.com/)).

<br>

# UPD Selenide 6.3.3
Ещё обновление [Selenide 6.3.3](https://github.com/selenide/selenide/milestone/148?closed=1):
* #1737 позволили переопределять настройки Firefox для скачивания файлов
* #1740 обновились на WebDriverManager 5.1.0

<br>

# UPD Selenide 6.3.4
Ещё обновление [Selenide 6.3.4](https://github.com/selenide/selenide/milestone/149?closed=1):
* #1746 показываем ожидаемый атрибут при падении `$.shouldHave(attribute(...))`.
* #1748 исправили имя модуля в сгенерированных бинарниках селенида

<br>

# UPD Selenide 6.3.5
Ещё обновление [Selenide 6.3.5](https://github.com/selenide/selenide/milestone/150?closed=1):
* [#1755](https://github.com/selenide/selenide/issues/1755) починили скачивание файлов через прокси, если ответ сервера закодирован  -  см. [PR #1756](https://github.com/selenide/selenide/pull/1756)

<br>

# Новости
* Мы создали группу в LinkedIn [Selenide User Group](https://www.linkedin.com/groups/9154550/)!
* Пост от Miklós Szeles [Selenium or Selenide?](https://www.linkedin.com/pulse/selenium-selenide-mikl%25C3%25B3s-szeles/)
* Селенид попал в подборку [5 Testing Automation Tools](https://qameta.io/blog/5-testing-automation-tools/) в блоге компании Qameta Software (это которая Allure Report)
* Селенид попал в подборку [Top Java Libraries for Automation Testing in 2022](https://hackernoon.com/top-java-libraries-for-automation-testing-in-2022)
* Пост [про Селенид](https://blog.knoldus.com/selenide-concise-ui-test-in-java/) в блоге компании Knoldus
* Пост [The software that doesn’t need documentation](https://medium.com/@gaveen0513/selenide-the-software-that-doesnt-need-documentation-cda8535cb7e6) от Gaveen Nayanajith
* Пост [начало прекрасной дружбы](https://mszeles.com/selenide-i-think-this-is-the-beginning-of-a-beautiful-friendship) от Miklós Szeles

<br>

#### Я думаю, это начало прекрасной дружбы!


[Андрей Солнцев](http://asolntsev.github.io/)

ru.selenide.org
