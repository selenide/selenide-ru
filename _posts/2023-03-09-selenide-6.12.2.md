---
layout: post
title: "Вышла Selenide 6.12.2"
description: ""
category:
header-text: "Костыль для Хрома"
tags: []
---
{% include JB/setup %}

Привет!

Срочно обновляйтесь на [Selenide 6.12.2](https://github.com/selenide/selenide/milestone/178?closed=1).

Он содержит один важный костыль для баги в Chromedriver 111.

> Invalid Status code=403 text=Forbidden

### В чём проблема?

Недавно вышла новая версия Chrome и Chromedriver 111.
И у всех, кто на неё обновился, резко посыпались тесты. 
Браузер открывался, но при этом тест получал от вебдрайвера ошибку и дальше не мог ничего
сделать, в том числе закрыть этот самый браузер. 

В логах было видно такое вот красноречивое сообщение:

```java
Starting ChromeDriver 111.0.5563.64 on port 31021
org.openqa.selenium.remote.http.WebSocket$Listener onError
WARNING: Invalid Status code=403 text=Forbidden
java.io.IOException: Invalid Status code=403 text=Forbidden
...
```

И хотя это [бага хромдрайвера]( https://bugs.chromium.org/p/chromedriver/issues/detail?id=4361), 
для неё нашёлся один простой костыль, и мы его по-быстрому запилили в Селениде. 

См. [issue 2192](https://github.com/selenide/selenide/issues/2192) и
[PR 2194](https://github.com/selenide/selenide/pull/2194).

> А вообще, обновляйтесь на [HttpClient](/2023/03/22/selenide-6.12.4/#support-jdk-http-client).
Он требует Java11+, но зато таких багов там не будет. 

<br>


[Андрей Солнцев](http://asolntsev.github.io/)

ru.selenide.org
