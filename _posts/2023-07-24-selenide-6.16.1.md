---
layout: post
title: "Вышла Selenide 6.16.0"
description: ""
category:
header-text: "Всё или что-нибудь"
tags: []
---
{% include JB/setup %}

Привет, пипл!

Мы выпустили небольшое обновление [Selenide 6.16.1](https://github.com/selenide/selenide/milestone/186?closed=1).

* [Добавили условия `allOf` и `anyOf`](#all-of-and-any-of-conditions)
* [Добавили проверки для cookies](#add-checks-for-cookies)
* [Обновили WebDriverManager](#update-webdrivermanager)
* [Исправили проверку текстов `<tspan>` в SVG](#support-tspan-in-svg)
  {: .blogpost-menu}
  <br>

### Добавили условия `allOf` и `anyOf` {#all-of-and-any-of-conditions}

Теперь можно проверить одно из нескольких условий (OR):

```java
$("#president").shouldHave(anyOf(text("Ничтожество"), text("Трусливый бездарь")));
```

(на самом деле для этого и раньше был метод `Condition.or`, но `anyOf` как будто чуть удобнее).

Также можно проверить совпадение всех условий сразу (AND):

```java
$("#generals").shouldHave(allOf(text("бездарней"), text("ничтожней")));
```

(на самом деле это то же самое, что и `$("#generals").shouldHave(text("бездарней"), text("ничтожней"))`, 
но зато результат `allOf` можно вынести в переменную или метод, создав таким образом своё условие).

Спасибо [Evgenii Plugatar](https://github.com/evpl) за [PR 2368](https://github.com/selenide/selenide/pull/2368).

<br>

### Добавили проверки для cookies {#add-checks-for-cookies}

Теперь можно проверять кукисы в браузере:

```java
import static com.codeborne.selenide.Selenide.webdriver;

webdriver().shouldHave(cookie("session_id"));
webdriver().shouldHave(cookie("session_id", "1234567890"));
webdriver().shouldHave(cookie("session_id", "1234567890", Duration.ofSeconds(10)));
```

С ожиданием результата, кастомным таймаутом и скриншотами при падении - всё, как вы любите. 

Спасибо [adorne](https://github.com/adorne) за [PR 2367](https://github.com/selenide/selenide/pull/2367).

<br>

### Обновили WebDriverManager с 5.4.0 до 5.4.1 {#update-webdrivermanager}

Среди прочего, там добавлена поддержка Chrome 115, с которым у многих возникли проблемы. 

См. [PR 2374](https://github.com/selenide/selenide/pull/2374).

P.S. На маках Chrome 115 в данный момент не работает. Выскакивает такая ошибка:

```
SessionNotCreatedException: Could not start a new session.  
  Response code 500.  
    Message: unknown error: cannot find Chrome binary 
```

Но мы не виноваты, это [бага в chromedriver](https://github.com/GoogleChromeLabs/chrome-for-testing/issues/30). Обещали скоро исправить. 

<br>

### Исправили проверку текстов `<tspan>` в SVG {#support-tspan-in-svg}

Вы когда-нибудь проверяли тексты внутри SVG? Я тоже нет. А они там, оказывается, есть! 

```xml
  <svg>
    <text x="10" y="30" class="small">
      Люди хотят <tspan>благодарности</tspan>.
    </text>
  
    <text x="10" y="60" class="small">
      Мы не склад <tspan>Amazon</tspan>.
    </text>
  
    <text x="10" y="90" class="small">
      Спасибо тебе, <tspan>Бен Уоллес</tspan>!
    </text>
  </svg>
```

И теперь их снова можно проверять:
```java
  $$("svg tspan").shouldHave(texts("благодарности", "Amazon", "Бен Уоллес"));
```

См. [issue 2377](https://github.com/selenide/selenide/issues/2377) и [PR 2379](https://github.com/selenide/selenide/pull/2379).


<br>
<br>

<center>
  <img src="{{ BASE_PATH }}/images/2023/07/ben-wallace.png" width="600"/>
</center>

<br>

[Андрей Солнцев](http://asolntsev.github.io/)

ru.selenide.org
